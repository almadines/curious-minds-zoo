(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4Jxr":function(t,e,n){},"6v+W":function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),a=n("B7F5"),i=(n("a1Th"),n("rE2o"),n("ioFf"),n("f3/d"),n("Vd3H"),n("9AAn"),n("rGqo"),n("yt8O"),n("Btvt"),n("XfO3"),n("HEwt"),n("Y+p1")),o=n.n(i),s=n("/MKj"),c=n("Wwog"),p=n("5bZA"),l=n("cx71"),u=n("P9dI"),m=n("YwZP"),d=n("uP/u"),f=(n("4Jxr"),n("Wbzz"));function h(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=function(t){var e,n;function a(e){var n;return(n=t.call(this,e)||this).getListElementWrapper=Object(c.a)((function(t,e){var n=Array.from(t.values()).map((function(t){return new l.a(t,e?(n=t.id,function(){Object(m.navigate)(Object(f.b)("/animal-details?id="+n))}):void 0);var n}));return new l.b(n)}),o.a),n.state={createFormOpen:!1},n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.mapStateToProps=function(t,e){var n,r=Array.from(t.animals.keys()),a=function(t,e,n){void 0===n&&(n=!1);var r=new Map;return e.forEach((function(t){r.set(t,null)})),n?t.filter((function(t){return r.has(t)})):t.filter((function(t){return!r.has(t)}))};e.notAssignedToExhibit&&(r=a(r,(n=[]).concat.apply(n,h(Array.from(t.exhibits.values()).map((function(t){return t.animalIds})))),!1));if(e.staffId){var i=t.staff.get(e.staffId);i?r=a(r,i.animalIds,!0):console.warn("Staff Id provided to AnimalsList does not exist, ignoring filter!")}if(e.exhibitId){var o=t.exhibits.get(e.exhibitId);o?r=a(r,o.animalIds,!0):console.warn("Exhibit Id provided to AnimalsList does not exist, ignoring filter!")}var s=r.map((function(e){return t.animals.get(e)})).filter((function(t){return!!t})).sort((function(t,e){return t.name>e.name?1:-1}));return s.length!==r.length&&console.warn("could not find all animal Ids, there may be some entries missing!"),{animals:s}};var i=a.prototype;return i.setCreateFormOpenState=function(t){this.setState({createFormOpen:t})},i.render=function(){var t=this.getListElementWrapper(this.props.animals,this.props.linkDetailPages),e=this.state.createFormOpen?r.createElement("div",{className:"instance-list-create-form-container"},r.createElement(d.a,{editorTemplate:p.a.getNewEditorTemplate(),editMode:!0,onCancelCallback:this.setCreateFormOpenState.bind(this,!1),onSuccessCallback:this.setCreateFormOpenState.bind(this,!1),title:"Create Animal"})):r.createElement("button",{className:"btn btn-success instance-list-create-button",onClick:this.setCreateFormOpenState.bind(this,!0)},"Add Animal");return r.createElement("div",{className:"instance-list-wrapper"},r.createElement("div",{className:"instance-list-create-form-wrapper "+(this.state.createFormOpen?"create-form-open":"create-form-closed")},e),r.createElement("div",{className:"instance-list-content-wrapper"},r.createElement(u.a,{listElementWrapper:t,includeSearchFilter:!0,tableMode:!0})))},a}(r.PureComponent),g=Object(s.connect)(v.mapStateToProps)(v);var y=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.render=function(){return r.createElement(a.a,{title:"Animals:",iconName:"pets"},r.createElement(g,{linkDetailPages:!0}))},i}(r.PureComponent);e.default=y},"uP/u":function(t,e,n){"use strict";n("dRSK"),n("91GP");var r=n("Y+p1"),a=n.n(r),i=n("q1tI"),o=n("/MKj"),s=n("Vkfw"),c=(n("ugz2"),n("8sGc"));var p=function(t){var e,n;function r(e){var n,r=(n=t.call(this,e)||this).props.editorTemplate.convertDataToObject(n.getInitialState(e)),a=r instanceof c.a?[]:r;return n.state={currentData:n.getInitialState(e),errors:a},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getInitialState=function(t){var e={};return t.editorTemplate.getEditorElements().forEach((function(t){t.initialValue&&(e[t.identifier]=t.initialValue)})),e},o.onInputChange=function(t,e){var n=Object.assign({},this.state.currentData);if(n[e]=t,!a()(n,this.state.currentData)){var r=this.props.editorTemplate.convertDataToObject(n),i=r instanceof c.a?[]:r;this.setState({currentData:n,errors:i})}},o.createObject=function(t){t.stopPropagation();var e=this.props.editorTemplate.convertDataToObject(this.state.currentData);e instanceof c.a?e&&this.props.dispatchFunction?(this.props.editorTemplate.reset(),this.props.dispatchFunction({type:s.a.add,values:[e],names:[this.props.editorTemplate.dataTypeName]}),this.setState({currentData:this.getInitialState(this.props)}),this.props.onSuccessCallback&&this.props.onSuccessCallback()):console.warn("Unable to create object!, Invalid  or incomplete data!"):this.setState({errors:e})},o.cancel=function(t){t.stopPropagation(),this.props.editorTemplate.reset(),this.setState({currentData:this.getInitialState(this.props)}),this.props.onCancelCallback&&this.props.onCancelCallback()},r.mapStateToProps=function(t){return{}},r.mapDispatchToProps=function(t){return{dispatchFunction:t}},o.render=function(){var t=this,e=this.props.editMode?i.createElement("button",{className:"btn btn-success edit-page-button",onClick:this.createObject.bind(this)},i.createElement("i",{className:"material-icons layout-link-icon"},"add"),"Submit"):null,n=this.props.editMode?i.createElement("button",{className:"btn btn-danger edit-page-button",onClick:this.cancel.bind(this)},i.createElement("i",{className:"material-icons layout-link-icon"},"close"),"Cancel"):null,r=this.props.title?i.createElement("h3",{className:"display-8"},this.props.title):null;return i.createElement("div",{className:"edit-wrapper"},r,i.createElement("div",{className:"edit-page-contents"},this.props.editorTemplate.getEditorElements().map((function(e){var n=t.state.errors.find((function(t){return t.inputIdentifier===e.identifier}));return e.render(t.props.editMode,t.onInputChange.bind(t),n)}))),i.createElement("div",{className:"edit-page-buttons-wrapper"},n,e))},r}(i.PureComponent),l=Object(o.connect)(p.mapStateToProps,p.mapDispatchToProps)(p);e.a=l}}]);
//# sourceMappingURL=component---src-pages-animals-tsx-d06f27adc69dee622c53.js.map